<UserControl
    x:Class="RX_Client.Views.HomeView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:RX_Client.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    d:DesignHeight="600"
    d:DesignWidth="800">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">

            <!--  Tiêu đề lớn  -->
            <TextBlock
                Margin="0,0,0,20"
                FontSize="28"
                FontWeight="Bold"
                Foreground="White"
                Text="Chào mừng trở lại" />

            <!--  Section: Gợi ý cho bạn (Album Cards)  -->
            <TextBlock
                Margin="0,0,0,15"
                FontSize="20"
                FontWeight="Bold"
                Foreground="White"
                Text="Gợi ý cho bạn" />
            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                <StackPanel Orientation="Horizontal">
                    <!--  Demo tĩnh, sau này Bind AlbumList  -->
                    <controls:AlbumCardControl Margin="0,0,15,0" />
                    <controls:AlbumCardControl Margin="0,0,15,0" />
                    <controls:AlbumCardControl Margin="0,0,15,0" />
                    <controls:AlbumCardControl Margin="0,0,15,0" />
                </StackPanel>
            </ScrollViewer>

            <!--  Section: Bài hát mới nhất  -->
            <TextBlock
                Margin="0,30,0,15"
                FontSize="20"
                FontWeight="Bold"
                Foreground="White"
                Text="Bài hát mới nhất" />

            <!--  Loading  -->
            <ProgressBar
                HorizontalAlignment="Center"
                IsIndeterminate="True"
                Style="{DynamicResource MaterialDesignCircularProgressBar}"
                Visibility="{Binding IsLoading, Converter={StaticResource BoolToVis}}" />

            <!--  Danh sách bài hát (Bind từ ViewModel)  -->
            <ItemsControl ItemsSource="{Binding Songs}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <controls:SongItemControl Margin="0,0,0,5">
                            <controls:SongItemControl.InputBindings>
                                <!--  Double click để play  -->
                                <MouseBinding
                                    Command="{Binding DataContext.PlaySongCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                    CommandParameter="{Binding}"
                                    Gesture="LeftDoubleClick" />
                            </controls:SongItemControl.InputBindings>
                        </controls:SongItemControl>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

        </StackPanel>
    </ScrollViewer>
</UserControl>