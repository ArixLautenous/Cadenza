<UserControl
    x:Class="RX_Client.Views.LoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:RX_Client.Utils.Converters;assembly=RX_Client"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    Width="400"
    Height="600">

    <Grid Background="#121212">
        <!--  Nền tối  -->
        <StackPanel Margin="40" VerticalAlignment="Center">

            <!--  Logo / Tiêu đề  -->
            <materialDesign:PackIcon
                Width="60"
                Height="60"
                Margin="0,0,0,20"
                HorizontalAlignment="Center"
                Foreground="{DynamicResource PrimaryHueMidBrush}"
                Kind="Headphones" />

            <TextBlock
                Margin="0,0,0,40"
                HorizontalAlignment="Center"
                FontSize="24"
                FontWeight="Bold"
                Foreground="White"
                Text="Cadenza" />

            <!--  Form Đăng nhập  -->
            <TextBox
                Margin="0,0,0,20"
                materialDesign:HintAssist.Hint="Tên đăng nhập"
                CaretBrush="White"
                Foreground="White"
                Style="{DynamicResource MaterialDesignFloatingHintTextBox}"
                Text="{Binding Username}" />

            <!--  PasswordBox: Cần xử lý riêng trong Code Behind để Binding  -->
            <PasswordBox
                x:Name="TxtPassword"
                Margin="0,0,0,30"
                materialDesign:HintAssist.Hint="Mật khẩu"
                CaretBrush="White"
                Foreground="White"
                PasswordChanged="PasswordBox_PasswordChanged"
                Style="{DynamicResource MaterialDesignFloatingHintPasswordBox}" />

            <!--  Thông báo lỗi  -->
            <TextBlock
                Margin="0,0,0,20"
                HorizontalAlignment="Center"
                Foreground="#FF5252"
                Text="{Binding ErrorMessage}"
                TextWrapping="Wrap"
                Visibility="{Binding ErrorMessage, Converter={StaticResource BoolToVis}}" />

            <!--  Nút Đăng nhập  -->
            <Button
                Height="50"
                Command="{Binding LoginCommand}"
                Content="ĐĂNG NHẬP"
                IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBool}}"
                Style="{DynamicResource MaterialDesignRaisedButton}" />

            <!--  Loading Indicator  -->
            <ProgressBar
                Margin="0,20,0,0"
                IsIndeterminate="True"
                Style="{DynamicResource MaterialDesignCircularProgressBar}"
                Visibility="{Binding IsLoading, Converter={StaticResource BoolToVis}}" />

            <!--  Link Đăng ký  -->
            <Button
                Margin="0,20,0,0"
                Command="{Binding GoToRegisterCommand}"
                Content="Chưa có tài khoản? Đăng ký ngay"
                Style="{DynamicResource MaterialDesignFlatButton}" />

        </StackPanel>
    </Grid>
</UserControl>